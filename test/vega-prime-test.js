// Generated by CoffeeScript 1.7.1
(function() {
  var VegaPrime, chai, expect, sinon, sinonChai;

  chai = require('chai');

  sinon = require('sinon');

  sinonChai = require('sinon-chai');

  expect = chai.expect;

  chai.use(sinonChai);

  VegaPrime = require('../vega-prime');

  describe('vega-prime', function() {
    beforeEach(function() {
      var options;
      this.url = 'ws:0.0.0.0:3000';
      this.roomId = '/abc123';
      this.badge = {
        name: 'Dave'
      };
      this.observatory = {
        call: function() {}
      };
      options = {
        url: this.url,
        roomId: this.roomId,
        badge: this.badge,
        observatory: this.observatory
      };
      return this.vegaPrime = new VegaPrime(options);
    });
    return describe('#init', function() {
      return it('orders the vega observatory to make a call', function() {
        var call;
        call = sinon.collection.stub(this.observatory, 'call');
        this.vegaPrime.init();
        return expect(call).to.have.been.called;
      });
    });
  });

}).call(this);
